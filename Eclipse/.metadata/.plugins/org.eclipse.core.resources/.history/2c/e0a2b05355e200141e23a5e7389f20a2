// Task 3 - Get top 20 artists thumbnail, name and current listeners.
// Populate a list view with custom layout displaying all three pieces
// of information

package bit.stewasc3.webservices2;

import java.util.ArrayList;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;

public class MainActivity extends Activity
{
	FetcherTask mThread;
	ArrayList<Artist> mArtists;

	@Override
	protected void onCreate(Bundle savedInstanceState)
	{
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		mThread = new FetcherTask();
		mThread.execute();
	}
	
	private class FetcherTask extends AsyncTask<Void, Void, ArrayList<Artist>>
	{
		@Override
		protected ArrayList<Artist> doInBackground(Void... arg0)
		{
			return new ArtistFetcher().fetchArtists();
		}

		@Override
		protected void onPostExecute(ArrayList<Artist> result)
		{
			mArtists = result;
			for(Artist a : mArtists)
			{
				Log.i("Artist Array", a.getName());
			}
		}
	}
}
